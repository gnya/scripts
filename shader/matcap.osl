/*
 * toon shader (0.4.0)
 * author: gnya
 */

shader matcap(
    output vector UV = vector(0.0, 0.0, 0.0)
) {
    vector N_cam = normalize(transform("world", "camera", N));
    vector I_cam = normalize(transform("world", "camera", I));
    vector NI = cross(N_cam, I_cam);

    UV = normalize(vector(NI[1], -NI[0], 0.0)) * length(NI);
    UV = UV * 0.5 + vector(0.5, 0.5, 0.0);
}
